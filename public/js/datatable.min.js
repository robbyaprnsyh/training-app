!function(t){t.fn.dataTable.ext.errMode="none",t.fn.myDataTable=function(a){var e=t(this),l={url:void 0!==e.attr("data-table-source")?e.attr("data-table-source"):null,ordering:void 0===e.attr("data-table-ordering")||e.attr("data-table-ordering"),filter:!1,sLengthSelect:"select2 form-select",searching:!1,lengthChange:!0,dom:"<'row'<'#"+e.attr("id")+"_length.col-sm-6'l><'#"+e.attr("id")+"_filter.col-sm-6 text-end'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-6'i><'col-sm-6'p>>",filterData:void 0!==e.attr("data-table-filter")&&e.attr("data-table-filter"),columns:null,columnDefs:[{orderable:!1,targets:"no-sort"}],columnIndex:void 0!==t("th.num-rows",e)?t("th.num-rows",e).index():null,paging:void 0!==e.attr("data-table-paging")?e.attr("data-table-paging"):"true",info:void 0!==e.attr("data-table-info")?e.attr("data-table-info"):"true",onComplete:function(t,a){},onDraw:function(t){},customRow:function(t,a,e){},order:[],buttons:[],actions:[],bProcessing:!0,bServerSide:!0,autoWidth:!1,language:{sLengthMenu:"_MENU_",sZeroRecords:'<div class="text-center"><i class="bx bx-search-alt-2 bx-sm bx-tada"></i><div class="mt-2">Maaf! Tidak ada hasil yang ditemukan</div></div>',sInfoEmpty:"Menampilkan 0 sampai 0 dari 0 Data",info:"Menampilkan _START_ sampai _END_ dari _TOTAL_ Data",paginate:{previous:"Sebelumnya",next:"Berikutnya"}}},i=(a=t.extend(l,a),e.DataTable({autoWidth:a.autoWidth,bProcessing:a.bProcessing,bServerSide:a.bServerSide,ordering:a.ordering,bFilter:a.filter,filterData:a.filterData,dom:a.dom,searching:a.searching,sLengthSelect:a.sLengthSelect,bLengthChange:a.lengthChange,columnDefs:a.columnDefs,paging:"true"==a.paging,info:"true"==a.info,language:a.language,aaSorting:[],order:a.order,ajax:{url:a.url,data:function(e){var l={},i=t(a.filterData).serializeArray();return t.each(i,(function(t,a){l[a.name]=a.value})),t.extend({},e,l)}},columns:a.columns,fnInitComplete:function(){var l;(l=t("#"+e.attr("id")+"_filter")).html(""),t.each(a.buttons,(function(a,e){var i={};void 0!==e.id&&"add"==e.id&&(i={icon:'<i class="bx bx-plus-circle bx-xs align-middle"></i>',title:__("Tambah"),className:"btn btn-primary",modal:"#modal-md",toggle:"modal"});var o=t.extend(i,e),n=t("<a>");n.attr("href",o.url),n.html(o.icon+" "+o.title),n.addClass(o.className),void 0!==o.modal&&o.modal&&(n.attr("data-bs-toggle",o.toggle),n.attr("data-bs-target",o.modal)),l.append(n)})),t(this).find("[data-sorting = false]").attr("class","sorting_disabled"),t('[rel="tooltip"]').tooltip(),a.onComplete.call(e)},drawCallback:function(l){if(t(this).find("[data-sorting = false]").attr("class","sorting_disabled"),void 0!==i.page){i.page.info().recordsTotal;if(null!==a.columnIndex&&-1!==a.columnIndex&&(l.bSorted||l.bFiltered)){var o=i.page.info().start+1;i.column(a.columnIndex,{search:"applied",order:"applied"}).nodes().each((function(t,a){t.innerHTML=o++}))}a.onDraw.call(e)}},rowCallback:function(l,i,o){if(void 0!==i.checkbox){var n=i.checkbox?"":"disabled",r=t("<div >");r.addClass("form-check form-check-inline mb-1"),r.append('<input type="checkbox" class="custom-control-input dt-checkbox form-check-input" id="cb-'+o+'" name="_id[]" '+n+' value="'+i.id+'">'),r.append('<label class="custom-control-label" for="cb-'+o+'"></label>'),t("td:first",l).html(r)}var d=["edit","delete","restore"];if(void 0!==i.actions&&(d=i.actions),a.actions.length>0){var s=t("<div >");s.addClass("btn-group btn-group-sm"),s.attr("role","group"),s.attr("role","Table row actions"),s.html("");var c=0;t.each(a.actions,(function(a,e){var l={};void 0!==e.id?"edit"==e.id?l={icon:'<i class="bx bx-edit bx-xs align-middle"></i>',title:__("Edit"),className:"btn btn-light p-1",modal:"#modal-md",toggle:"modal"}:"delete"==e.id?l={icon:'<i class="bx bx-trash bx-xs align-middle"></i>',title:__("Delete"),className:"btn btn-danger btn-delete p-1"}:"restore"==e.id&&(l={icon:'<i class="bx bx-refresh bx-xs align-middle"></i>',title:__("Restore"),className:"btn btn-outline-success btn-restore p-1"}):l={icon:void 0!==e.icon?e.icon:"",title:void 0!==e.title?e.title:__("Button"),className:void 0!==e.className?e.className:"btn btn-secondary",modal:void 0!==e.modal?e.modal:"#modal-md",toggle:void 0!==e.toggle?e.toggle:"modal-detail"};var o=t.extend(l,e),n=t("<a>");n.attr("rel","tooltip");var r="#";void 0!==o.url&&(r=o.url.replace(/__grid_doc__/g,i.id)),n.attr("href",r),n.attr("title",o.title),n.html(o.icon),n.addClass(o.className),void 0!==o.modal&&o.modal&&(n.attr("data-bs-toggle",o.toggle),n.attr("data-bs-target",o.modal)),d.indexOf(e.id),s.append(n),c++})),0==c&&s.html('<i class="text-muted material-icons">lock</i>'),t("td:last",l).html(s)}a.customRow.call(e,l,i)}}));return{reload:function(t){void 0!==t||"false"===t?i.draw(!1):i.draw()},reloadParam:function(l){var i=e.DataTable(),o=a.url+"?"+t.param(l);i.ajax.url(o).load()},filterReset:function(){var e=a.filterData,l=t(e);l[0].reset(),t(".select2",l).length>0&&t(".select2",l).trigger("change"),this.reload()},row:function(t){return i.row(t)},rowCount:function(t){return i.page.info().recordsTotal}}}}(jQuery);
